= Getting started with Astra Streaming
:page-aliases:
:description:
:navtitle: Get started
:title: Getting started with Astra Streaming

Follow this guide to get started using Astra Streaming.

== Pre-req's

* a working email address

== Creating your Astra account

Follow these steps to create your free Astra account.

. Navigate to the https://astra.datastax.com[Astra portal sign in page^]{external-link-icon}
+
image::astream-login.png[Login to Astra]

. Click the "Sign Up" link (toward the bottom)

. Provide your information along with a valid email
+
image::astream-create-account.png[Create Astra account]

. You should receive an email from DataStax, verifying your email. Click the button within

. If you weren't automatically signed in, visit the https://astra.datastax.com[Astra sign in page^]{external-link-icon} and use your new account creds

== Creating your first streaming tenant

Think of a tenant in Astra Streaming as your safe space to work. It is a portion of DataStax's managed Apache Pulsar that is only yours. Learn more about tenancy in https://pulsar.apache.org/docs/concepts-multi-tenancy/[Pulsar docs^]{external-link-icon}.

These steps will guide you through creating a Pulsar streaming tenant. You'll use this to create namespaces, topics, functions, and pretty much everything else.

[tabs]
====
Astra Portal::
+
--
. Once signed in, click the "Create a Stream" button on your Astra home page
+
|===
a|image:home-quick-access.png[Create a stream in Astra Streaming]
|===

. Name your streaming tenant something memorable like "my-stream-<rand>", replace <rand> with random letters or numbers. All tenant names in Astra Streaming must be unique. Then choose your preferred cloud provider and region. For your first example tenant, the region doesn't really matter (it's all free).
+
|===
a|image:create-a-stream.png[Create a new tenant in Astra Streaming]
|===

. Click the "Create Tenant" button

. You will be directed to the quickstart page for your new tenant
+
|===
a|image:new-tenant-quickstart.png[New tenant quickstart in Astra Streaming]
|===

. With a new tenant created, you're ready to create a namespace
--

Astra Cli::
+
--
Not sure about this? Visit the https://awesome-astra.github.io/docs/pages/astra/astra-cli/[Astra Cli install instructions^]{external-link-icon}

. Set the required variables, replacing <rand> with a few random numbers or letters. Optionally you can choose a different cloud provider and region. Use `astra streaming list-regions` to see values.
+
[source,shell,subs="attributes+"]
----
export TENANT="my-stream-<rand>"
export CLOUD_PROVIDER_STREAMING="gcp"
export CLOUD_REGION_STREAMING="uscentral-1"
----

. Run the following script to create a new streaming tenant
+
[source,shell,subs="attributes+"]
----
include::{astra-streaming-examples-repo}/astra-cli/create-tenant.sh[]
----

. With a new tenant created, you're ready to create a namespace

--
====

== Creating a namespace to hold topics

A namespace is within a tenant. It is a logical grouping of message topics. Tenants usually have many namespaces. The delimiter of a namespace could be by environment (dev,stage,prod) or by application (catalog,cart,user) or whatever makes sense to you. If you would like to learn more about namespaces in Pulsar, https://pulsar.apache.org/docs/concepts-messaging/#namespaces[read the docs^]{external-link-icon}.

NOTE: Astra Streaming automatically created a namespace named "default" when you created the tenant. If you would like to use that instead of creating a new namespace, it's perfectly fine.

[tabs]
====
Astra Portal::
+
--
. Navigate to the "Namespace And Topics" tab
+
|===
a|image:namespace-tab.png[Namespace tab in Astra Streaming]
|===

. Click the "Create Namespace" button and give your namespace a super original name like "my-namespace"
+
[width=75%]
|===
a|image:create-namespace.png[Create namespace in Astra Streaming]
|===

. Click "Create" to create the namespace
+
|===
a|image:namespace-listing.png[Namespaces in Astra Streaming]
|===

. You're ready to create a topic in the namespace
--

Pulsar Admin::
+
--
Not sure about this? Learn more about xref:developing:configure-pulsar-env.adoc[configuring your local environment for Astra Streaming].

. Set the required variables
+
[source,shell,subs="attributes+"]
----
export NAMESPACE="my-namespace"
# export TENANT="my-stream-<rand>" # this should have been set in the previous step
----

. Run the following script to create a new namespace
+
[source,shell,subs="attributes+"]
----
include::{astra-streaming-examples-repo}/pulsar-admin/create-namespace.sh[]
----

. You're ready to create a topic in the namespace
--

Curl::
+
--
Not sure about this? Learn more about interacting with Astra Streaming through curl xref:developing:using-curl.adoc[here].

. Set the required variables
+
[source,shell,subs="attributes+"]
----
export PULSAR_TOKEN="<REPLACE-ME-WITH-TOKEN>"
export WEB_SERVICE_URL="<REPLACE-ME-WITH-URL>"
export NAMESPACE="my-namespace"
# export TENANT="my-stream-<rand>" # this should have been set in the previous step
----

. Run the following script to create a new namespace
+
[source,shell,subs="attributes+"]
----
include::{astra-streaming-examples-repo}/curl/create-namespace.sh[]
----

. You're ready to create a topic in the namespace
--
====

== Creating a topic to organize messages

Topics are the core construct of a messaging system. They provide a way to group messages matching certain criteria. The name of the topic usually loosely defines the criteria, then more advanced things like schemas might also be in use. Topics are where others cab  "listen" for new messages and do additional work. In Pulsar topics have a URL structure (ie persistent://tenant/namespace/topic). Learn more about topics in the https://pulsar.apache.org/docs/concepts-messaging/#topics[Pulsar docs^]{external-link-icon}.

[tabs]
====
Astra Portal::
+
--
. Within the "Namespace And Topics tab", locate the namespace created previously and click its "Add Topic" button

. Provide a name for the topic like "my-topic". It needs to start with a lowercase letter, be alphanumeric, and can contain hyphens. Leave the choice of persistence and partitioning as is. Those can be part of https://pulsar.apache.org/docs/concepts-messaging/#partitioned-topics[future learning^]{external-link-icon} :).
+
[width=75%]
|===
a|image:add-topic.png[Add topic in Astra Streaming]
|===

. Click the "Add Topic" button to create the topic within the namespace
+
|===
a|image:topic-listing.png[Topic listing in Astra Streaming]
|===

. You're ready to put it all together and work with messages!
--

Pulsar Admin::
+
--
Not sure about this? Learn more about connecting to Astra Streaming with the pulsar-admin cli xref:developing:configure-pulsar-env.adoc[here].

. Set the required variables
+
[source,shell,subs="attributes+"]
----
export TOPIC="my-topic"
# export NAMESPACE="my-namespace" # this should have been set in the previous step
# export TENANT="my-stream-<rand>" # this should have been set in the previous step
----

. Run the following script to create a new topic
+
[source,shell,subs="attributes+"]
----
include::{astra-streaming-examples-repo}/pulsar-admin/create-topic.sh[]
----

. You're ready to put it all together and work with messages!
--

Curl::
+
--
Not sure about this? Learn more about interacting with Astra Streaming through curl xref:developing:using-curl.adoc[here].

. Set the required variables
+
[source,shell,subs="attributes+"]
----
export TOPIC="my-topic"
# export PULSAR_TOKEN="<REPLACE-ME-WITH-TOKEN>" # this should have been set in the previous step
# export WEB_SERVICE_URL="<REPLACE-ME-WITH-URL>" # this should have been set in the previous step
# export NAMESPACE="my-namespace" # this should have been set in the previous step
# export TENANT="my-stream-<rand>" # this should have been set in the previous step
----

. Run the following script to create a new topic
+
[source,shell,subs="attributes+"]
----
include::{astra-streaming-examples-repo}/curl/create-topic.sh[]
----

. You're ready to put it all together and work with messages!
--
====

== Putting your topic to work

Now it's time to produce and consume messages in your new message topic. There are quite a few different ways to accomplish this. Choose the right one for your needs (they all end up doing the same thing).

[cols=1*,frame=none,grid=none]
|===
|
xref::produce-consume-astra-portal.adoc[Astra Portal] +
[.small]##Using Astra Streaming's "Try Me" feature in the UI##
|
xref::produce-consume-pulsar-client.adoc[Pulsar Client] +
[.small]##Downloading and using the cli provided within Pulsar to interact with the topic##
|
xref::produce-consume-clients.adoc[Runtime Clients] +
[.small]##Compiling a client application that interacts with Pulsar (C#, Java, Node, etc)##
|===